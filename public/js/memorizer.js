// Generated by CoffeeScript 1.3.3
(function() {
  var MemoryBlurb,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.MemoryBlurb = MemoryBlurb = (function() {

    function MemoryBlurb(text) {
      this.initialize = __bind(this.initialize, this);

      this.dropItIntoPage = __bind(this.dropItIntoPage, this);
      this.text = text;
    }

    MemoryBlurb.prototype.getLetter = function(index) {
      return this.text.split("")[index];
    };

    MemoryBlurb.prototype.dropItIntoPage = function(text) {
      return $("p.target_text").html(text);
    };

    MemoryBlurb.prototype.evaluateWord = function() {
      var currentGuess, entry, phraseDisplay, slicedText;
      entry = $("#entry");
      phraseDisplay = $('.display_text');
      currentGuess = entry.val();
      slicedText = this.text.slice(0, currentGuess.length);
      if (currentGuess === slicedText) {
        this.displayCount = currentGuess.length;
        if (phraseDisplay.hasClass('fail')) {
          phraseDisplay.toggleClass('fail');
        }
        return this.displayWord(this.displayCount);
      } else {
        if (!phraseDisplay.hasClass('fail')) {
          return phraseDisplay.toggleClass('fail');
        }
      }
    };

    MemoryBlurb.prototype.displayWord = function(count) {
      var characterCount, targetText;
      characterCount = count;
      targetText = $('.target_text').html();
      return $(".display_text").html(targetText.slice(0, characterCount));
    };

    MemoryBlurb.prototype.initialize = function() {
      var that;
      this.displayCount = 0;
      that = this;
      $(".target_text").html("blahzah");
      $("input[type='text']").live('input', function() {
        if ($("#entry").val()) {
          return that.evaluateWord();
        }
      });
      this.dropItIntoPage(this.text);
      return $("a.start").bind("click", "alert('hello');");
    };

    return MemoryBlurb;

  })();

}).call(this);
